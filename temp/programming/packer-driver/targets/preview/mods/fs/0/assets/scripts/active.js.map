{"version":3,"sources":["file:///Users/wuyachong/Desktop/fight/fight/assets/scripts/active.ts"],"names":["CCInteger","Component","instantiate","Node","Prefab","UITransform","_decorator","ccclass","property","Active","type","onLoad","layoutX","blockLayout","getPosition","x","layoutY","y","blockPrefab","i","col","row","totalNum","block","colNum","setPosition","data","getComponent","width","spacingX","height","spacingY","addChild","console","log","dir","start"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,S,OAAAA,S;AAAWC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,U,OAAAA,U;;;;;;;AAC/DC,MAAAA,O,GAAsBD,U,CAAtBC,O;AAASC,MAAAA,Q,GAAaF,U,CAAbE,Q;;wBAGJC,M,WADZF,OAAO,CAAC,QAAD,C,UAGHC,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEP;AAAR,OAAD,C,UAGRK,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEN;AAAR,OAAD,C,UAGRI,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEV;AAAR,OAAD,C,UAGRQ,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAEV;AAAP,OAAD,C,UAGRQ,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAEV;AAAP,OAAD,C,UAGRQ,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAEV;AAAP,OAAD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAGTW,M,GAAA,kBAAS;AAAA;;AACL,cAAIC,OAAO,wBAAG,KAAKC,WAAR,sDAAG,kBAAkBC,WAAlB,GAAgCC,CAA9C;AACA,cAAIC,OAAO,yBAAG,KAAKH,WAAR,uDAAG,mBAAkBC,WAAlB,GAAgCG,CAA9C;;AAEA,cAAI,KAAKC,WAAL,IAAoBN,OAApB,IAA+BI,OAAnC,EAA4C;AACxC;AACA,iBAAK,IAAIG,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,CAAjB,EAAoBC,GAAG,GAAG,CAA/B,EAAkCF,CAAC,IAAI,KAAKG,QAA5C,EAAsDH,CAAC,IAAIC,GAAG,EAA9D,EAAkE;AAAA;;AAC9D,kBAAIG,KAAK,GAAGrB,WAAW,CAAC,KAAKgB,WAAN,CAAvB;;AACA,kBAAIC,CAAC,GAAGE,GAAG,GAAG,KAAKG,MAAf,GAAwB,KAAKA,MAAjC,EAAyC;AACrCH,gBAAAA,GAAG,IAAI,CAAP;AACAD,gBAAAA,GAAG,GAAG,CAAN;AACH;;AACDG,cAAAA,KAAK,CAACE,WAAN,CACIb,OAAO,GAAGQ,GAAG,IAAI,KAAKF,WAAL,CAAiBQ,IAAjB,CAAsBC,YAAtB,CAAmCtB,WAAnC,EAAgDuB,KAAhD,GAAwD,KAAKC,QAAjE,CADjB,EAEIb,OAAO,GAAGK,GAAG,IAAI,KAAKH,WAAL,CAAiBQ,IAAjB,CAAsBC,YAAtB,CAAmCtB,WAAnC,EAAgDyB,MAAhD,GAAyD,KAAKC,QAAlE,CAFjB;AAGA,yCAAKlB,WAAL,0EAAkBmB,QAAlB,CAA2BT,KAA3B;AACAU,cAAAA,OAAO,CAACC,GAAR,CAAetB,OAAf,UAA2BW,KAAK,CAACT,WAAN,GAAoBC,CAA/C,UAAqDK,GAArD,UAA6DC,GAA7D;AACAY,cAAAA,OAAO,CAACE,GAAR,CAAY,KAAKjB,WAAL,CAAiBQ,IAAjB,CAAsBC,YAAtB,CAAmCtB,WAAnC,EAAgDuB,KAA5D;AACH;AACJ;AAEJ,S;;eAEDQ,K,GAAA,iBAAQ,CAEP,C;;;QA7CuBnC,S;;;;;iBAGU,I;;;;;;;iBAGE,I;;;;;;;iBAGV,C;;;;;;;iBAGF,C;;;;;;;iBAGE,C;;;;;;;iBAGA,C","sourcesContent":["\r\nimport { CCInteger, Component, instantiate, Node, Prefab, UITransform, _decorator } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Active')\r\nexport class Active extends Component {\r\n\r\n    @property({ type: Node })\r\n    public blockLayout: Node | null = null;\r\n\r\n    @property({ type: Prefab })\r\n    public blockPrefab: Prefab | null = null;\r\n\r\n    @property({ type: CCInteger })\r\n    public totalNum: number = 9;\r\n\r\n    @property({type: CCInteger})\r\n    public colNum: number = 5;\r\n\r\n    @property({type: CCInteger})\r\n    public spacingX: number = 5;\r\n\r\n    @property({type: CCInteger})\r\n    public spacingY: number = 5;\r\n\r\n    onLoad() {\r\n        let layoutX = this.blockLayout?.getPosition().x;\r\n        let layoutY = this.blockLayout?.getPosition().y;\r\n\r\n        if (this.blockPrefab && layoutX && layoutY) {\r\n            // 计算该方块是第几行第几个，获得其坐标\r\n            for (let i = 1, col = 0, row = 0; i <= this.totalNum; i++, col++) {\r\n                let block = instantiate(this.blockPrefab);\r\n                if (i - row * this.colNum > this.colNum) {\r\n                    row += 1;\r\n                    col = 0;\r\n                }\r\n                block.setPosition(\r\n                    layoutX + col * (this.blockPrefab.data.getComponent(UITransform).width + this.spacingX), \r\n                    layoutY - row * (this.blockPrefab.data.getComponent(UITransform).height + this.spacingY));\r\n                this.blockLayout?.addChild(block);\r\n                console.log(`${layoutX}, ${block.getPosition().x}, ${col}, ${row}`);\r\n                console.dir(this.blockPrefab.data.getComponent(UITransform).width);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n"]}